<app-section>
    <form
        #form
        id="formDropContainer"
        cdkDropList
        [cdkDropListData]="formDropContainer"
        (cdkDropListDropped)="drop($event)"
        [name]="formNode"
        class="drop-section-form"
        [ngStyle]="formStyles"
        [ngClass]="{'pb-10': formDropContainer.length}"
    >
        <h3
            #heading
            class="form-builder-element no-border"
            [textContent]="formStyles?.textContent ?? 'Form label'"
        >
            Form label
        </h3>
        <ng-container
            *ngFor="let formElement of formDropContainer"
        >
            <app-input
                cdkDrag
                [elementName]="formElement.type"
                [id]="formElement.id"
                [onClick]="selectElement"
                [onViewInit]="defineElement"
                *ngIf="formElement.type === 'input'"
                [attr.data-type]="formElementNode"
            ></app-input>
            <app-button
                cdkDrag
                [elementName]="formElement.type"
                [id]="formElement?.id || ''"
                [onClick]="selectElement"
                [onViewInit]="defineElement" 
                *ngIf="formElement.type === 'button'"
                [attr.data-type]="formElementNode"
            ></app-button>
            <app-textarea
                cdkDrag
                [elementName]="formElement.type"
                [id]="formElement.id"
                [onClick]="selectElement"
                [onViewInit]="defineElement" 
                *ngIf="formElement.type === 'textarea'"
                [attr.data-type]="formElementNode"
            ></app-textarea>
            <app-select-option
                cdkDrag
                [elementName]="formElement.type"
                [id]="formElement.id"
                [onClick]="selectElement"
                [onViewInit]="defineElement" 
                *ngIf="formElement.type === 'select'"
                [attr.data-type]="formElementNode"
            ></app-select-option>
            <app-checkbox-with-label
                cdkDrag
                [elementName]="formElement.type"
                [id]="formElement.id"
                [onClick]="selectElement"
                [onViewInit]="defineElement"
                *ngIf="formElement.type === 'checkbox'"
                [attr.data-type]="formElementNode"
            ></app-checkbox-with-label>
        </ng-container>
    </form>
</app-section>
<button
    type="button"
    *ngIf="formDropContainer.length"
    class="button save-button mt-20"
>
    Save form
</button>