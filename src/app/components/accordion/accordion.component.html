<cdk-accordion class="example-accordion">
    <cdk-accordion-item
        *ngFor="let accItem of accordionItems; let index = index;"
        #accordionItem="cdkAccordionItem"
        class="example-accordion-item"
        role="button"
        tabindex="0"
        [attr.id]="'accordion-header-' + index"
        [attr.aria-expanded]="accordionItem.expanded"
        [attr.aria-controls]="'accordion-body-' + index"
    >
        <div class="example-accordion-item-header" (click)="accordionItem.toggle()">
            {{ !accordionItem.expanded
                ? accItem.name
                : accItem.name === 'Form styles'
                ? 'Form General Styles'
                : accItem.name
            }}
            <span class="example-accordion-item-description">
                {{ accordionItem.expanded ? 'close' : 'open' }}
            </span>
        </div>
        <div
            class="example-accordion-item-body"
            [style.display]="accordionItem.expanded ? '' : 'none'"
            [attr.id]="'accordion-body-' + index">
            <form #form [attr.id]="accItem.name" (submit)="getEnteredProps()">
                <mat-form-field
                    *ngFor="let prop of (accItem.name === 'Form styles' ? formProperties : formFieldProperties); let first = first"
                    [ngClass]="{ 'example-full-width': first, 'example-half-width': !first }">
                    <mat-label>
                        {{ prop.displayedFieldName }}
                    </mat-label>
                    <input
                        matInput
                        *ngIf="!prop.options"
                        [attr.placeholder]="prop.propertyName === 'placeholder' ? prop.value : null"
                        [attr.type]="prop.suffix && prop.suffix !== 'RGB' ? 'number' : 'text'"
                        [(ngModel)]="selectedStyles[accItem.name][prop.propertyName]"
                        [name]="prop.propertyName"
                    >
                    <mat-select *ngIf="prop.options" [(ngModel)]="selectedStyles[accItem.name][prop.propertyName]" name="food">
                        <mat-option *ngFor="let option of prop.options" [value]="option">
                            {{option}}
                        </mat-option>
                    </mat-select>
                    <span matSuffix *ngIf="prop.suffix">
                        {{ prop.suffix }}
                    </span>
                </mat-form-field>
                <button type="submit">Apply</button>
                <button type="button">Delete</button>
            </form>
        </div>
    </cdk-accordion-item>
</cdk-accordion>